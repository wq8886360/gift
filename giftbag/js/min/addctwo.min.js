"use strict";var vm=new Vue({data:function(){return{username:"",account:null,mobel:null,yzm:null,time:60,sendMsgDisabled:!1,username_state:!1,account_state:!1,mobel_state:!1,yzm_state:!1,color_red:!1}},watch:{username:{handler:function(){this.username.length>0?this.username_state=!0:this.username_state=!1}},account:{handler:function(){this.account.length>0?(this.account_state=!0,console.log(11111111)):this.account_state=!1}},mobel:{handler:function(){11==this.mobel.length&&/^[1][3,4,5,7,8][0-9]{9}$/.test(this.mobel)?this.mobel_state=!0:this.mobel.length<11?this.color_red=!1:this.mobel_state=!1}},yzm:{handler:function(){4==this.yzm.length?this.yzm_state=!0:this.yzm_state=!1}}},methods:{success:function(){if(this.username&&this.account_state&&this.mobel_state&&this.yzm_state){axios.get("http://www.pluss.com/mobile.php?act=plus&op=addAlipay&pin=11009",{params:{name:this.username,username:this.account,mobile:this.mobel,mobile_code:this.yzm}}).then(function(t){1==t.data.status&&(location.href="../html/addcard.html"),2==t.data.status&&(window.location.href="../html/mtshop.html")})}else 0==this.username?this.$toast({message:"请您输入姓名",duration:3e3}):0==this.account_state?this.$toast({message:"请您输入支付宝号码",duration:3e3}):0==this.mobel_state?this.$toast({message:"请您输入手机号",duration:3e3}):0==this.yzm_state&&this.$toast({message:"请您输入手机短信验证码",duration:3e3})},Verification:function(){var t=this;if(null==this.mobel){axios.get("http://www.pluss.com/mobile.php?act=get_mobile_code&pin=11009",{params:{mobile:this.mobel}}).then(function(e){console.log(e),1==e.data.status?t.send():(t.color_red=!0,t.$toast({message:e.data.msg,duration:3e3}))})}else if(this.mobel.length<11)this.$toast({message:"请输入正确的手机号码",duration:3e3});else{axios.get("http://www.pluss.com/mobile.php?act=get_mobile_code&pin=11009",{params:{mobile:this.mobel}}).then(function(e){console.log(e),1==e.data.status?t.send():(t.color_red=!0,t.$toast({message:e.data.msg,duration:3e3}))})}},send:function(){var t=this;t.sendMsgDisabled=!0;var e=window.setInterval(function(){t.time--<=0&&(t.time=60,t.sendMsgDisabled=!1,window.clearInterval(e))},1e3)}}});vm.$mount("#addctwo");